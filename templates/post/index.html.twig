{% extends 'base.html.twig' %}

{% block title %}Posts administrator{% endblock %}

{% block body %}

	<div class="row pt-2">
	
		<div class="container">
		<h4>Admin Posts</h4>

			<div class="col s12">
				<a href="{{path('new-post')}}" class="waves-effect waves-light btn right">New Post</a>
			</div>


			<div class="col s12">
		      <table class="highlight  responsive-table">
		        <thead>
		          <tr>
		              <th>#</th>
		              <th>Category/Site</th>
		              <th>Title</th>
		              <th>Slug</th>
		          </tr>
		        </thead>

		        <tbody>
					{% for post in posts %}
					  <tr>
			            <td width="25%">
			            	<a href="{{path('update-post',{'id' : post.id})}}"><i class="fas fa-edit btn"></i></a>
			            	<a href="{{path('active-post', {'id' : post.id})}}">
			            	{% if post.active %}
								<i class="far fa-eye-slash btn red"></i>
							{% else %}
								<i class="far fa-eye btn green"></i>
			            	{% endif %}
			            	</a>
			            	<a href="{{path('delete-post',{'id' : post.id})}}"><i class="fas fa-trash btn red"></i></a>
			            </td>
			            <td width="20%">{{post.category.site.name}} - {{post.category.name}}</td>
			            <td width="35%">{{post.title}}</td>
			            <td width="20%">{{post.slug}}</td>
			          </tr>
					{% endfor %}
		        </tbody>
		      </table>
			</div>
			<div class="col s12 pt-2">
				

				{% if current_page != 1 %}
					<a href="{{path('posts', {'page' : current_page - 1})}}"><i class="fas fa-chevron-left btn"></i></a>
				{% endif %}

				{% if current_page < max_page %}
					<a href="{{path('posts', {'page' : current_page + 1})}}"><i class="fas fa-chevron-right btn"></i></a> 
				{% endif %}
				<p class="right">{{current_page}}</p>
			</div>
		</div>

	</div>

{% endblock %}
